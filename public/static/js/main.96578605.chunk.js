(this["webpackJsonpbardic-poetry-ui"]=this["webpackJsonpbardic-poetry-ui"]||[]).push([[0],{159:function(e,t,a){e.exports=a(396)},164:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},165:function(e,t,a){},166:function(e,t,a){},171:function(e,t,a){},380:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},390:function(e,t,a){},391:function(e,t,a){},393:function(e,t,a){},396:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),o=a.n(c),l=(a(164),a(165),a(13)),i=(a(166),a(94)),s=a.n(i),u=a(420);function m(e){var t=e.toggleMenuBar;return r.a.createElement("div",{className:"headerBar"},r.a.createElement("div",null,r.a.createElement(u.a,{className:"menuIconHeader",color:"secondary","aria-label":"open drawer",edge:"start",onClick:t},r.a.createElement(s.a,null))),r.a.createElement("div",{className:"headerBreadCrumbs"},document.URL.includes("/PoetPatron")?"Poet Patron Network":"Home"))}var d=a(76),p=a(47),f=(a(171),a(4)),b=a(95),g=a(429),E=a(422),v=a(423),j=a(147),h=a.n(j),O=a(146),x=a.n(O);function y(e){var t=e.toggleMenu,a=e.toggleMenuBar,c=window.location.pathname,o=Object(n.useState)("/PoetPatron"===c?"2":"1"),i=Object(l.a)(o,2),s=i[0],u=i[1],m=function(e){a(e,!1),u(e.currentTarget.id)};return r.a.createElement("div",{className:Object(f.a)("flex-item-menu",Object(d.a)({},"expanded",t))},r.a.createElement(p.MenuList,{className:"menu-container"},r.a.createElement(b.LinkContainer,{to:"/"},r.a.createElement("li",{id:"1",onClick:m},r.a.createElement(p.MenuLink,{isActive:"1"===s,className:Object(f.a)("menu",Object(d.a)({},"expanded",t))},r.a.createElement(g.a,{button:!0,key:"Home"},r.a.createElement(E.a,null,r.a.createElement(x.a,null)),r.a.createElement(v.a,{primary:"Home"}))))),r.a.createElement(b.LinkContainer,{to:"/PoetPatron"},r.a.createElement("li",{id:"2",onClick:m},r.a.createElement(p.MenuLink,{isActive:"2"===s,className:Object(f.a)("menu",Object(d.a)({},"expanded",t))},r.a.createElement(g.a,{button:!0,key:"Poems"},r.a.createElement(E.a,null,r.a.createElement(h.a,null)),r.a.createElement(v.a,{primary:"Poet-Patron Network"})))))))}var N=a(148),k=a.n(N),C=(a(380),{particles:{number:{value:100},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}});function w(e){var t=e.toggleMenu,a=e.expanded;return r.a.createElement("div",{className:"Home"},r.a.createElement(k.a,{params:C,style:{width:"100%",height:"100%",position:"absolute"}}),r.a.createElement("div",{className:Object(f.a)("HomeHeadings","skew",{expanded:a})},r.a.createElement("div",{className:"unskew"},r.a.createElement("div",{className:"HomeTitle"},"MACMORRIS"),r.a.createElement("div",{className:"HomeSubTitle"}," Connection Explorer"),r.a.createElement(p.Button,{isOutlined:!0,isColor:"white",className:"ExplorerButton",onClick:t},"Explore"))))}a(381);var P=a(19),S=a.n(P),M=a(74);a(382);var B=a(28),H=a(149),L=(a(390),a(425)),W=a(430),I=a(427),z=a(426),D=a(428),R=a(77),J=Object(L.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function T(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),a=(t[0],t[1],Object(n.useState)(500)),c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)(800),u=Object(l.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(null),b=Object(l.a)(p,2),g=b[0],E=b[1],v=Object(n.useRef)(null);Object(n.useEffect)((function(){!function(){te.apply(this,arguments)}(),d(v.current.offsetWidth+250),i(v.current.offsetHeight-40)}),[]);var j={d3:{gravity:-150},height:o,width:m,nodeHighlightBehavior:!0,node:{color:"#f14668",highlightStrokeColor:"black",labelProperty:"name"},link:{color:"#00000020",highlightColor:"black"}},h=Object(n.useState)([]),O=Object(l.a)(h,2),x=(O[0],O[1]),y=Object(n.useState)([]),N=Object(l.a)(y,2),k=(N[0],N[1]),C=Object(n.useState)([]),w=Object(l.a)(C,2),P=w[0],L=w[1],T=Object(n.useState)([]),A=Object(l.a)(T,2),_=A[0],G=A[1],U=Object(n.useState)([]),$=Object(l.a)(U,2),q=($[0],$[1]),F=Object(n.useState)([]),K=Object(l.a)(F,2),Q=K[0],V=K[1],X=Object(n.useState)([]),Y=Object(l.a)(X,2),Z=Y[0],ee=Y[1];function te(){return(te=Object(M.a)(S.a.mark((function e(){var t,a,n,r,c,o,l,i,s,u,m,d;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/locations");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,V(a),console.log({location:Q}),e.next=10,fetch("/categories");case 10:return n=e.sent,e.next=13,n.json();case 13:return r=e.sent,ee(r),console.log({category:Z}),e.next=18,fetch("/poets");case 18:return c=e.sent,e.next=21,c.json();case 21:return o=e.sent,o.map((function(e){return e.poems.length})),o=o.map((function(e,t){return e.uid=e.id,e.color="#5cace2",e.size=200*e.poems.length,e})),console.log(o),x(o),l=o.map((function(e){return e.patrons.map((function(t){return{source:e.id,target:-t.id}}))})).reduce((function(e,t){return[].concat(Object(B.a)(e),Object(B.a)(t))})),i=o.map((function(e){return e.poems.map((function(t){return{source:e.id,target:t.id+1e3}}))})).reduce((function(e,t){return[].concat(Object(B.a)(e),Object(B.a)(t))})),console.log(l),console.log(i),G([].concat(Object(B.a)(l),Object(B.a)(i))),e.next=33,fetch("/patrons");case 33:return s=e.sent,e.next=36,s.json();case 36:return u=(u=e.sent).map((function(e,t){return e.uid=e.id,e.id=-e.id,e.size=200*e.poets.length,e})),k(u),console.log({patronsJson:u}),e.next=42,fetch("/poems");case 42:return m=e.sent,e.next=45,m.json();case 45:d=e.sent,console.log({poemsJson:d}),d=d.map((function(e,t){return e.color="#00000020",e.renderLabel=!1,e.uid=e.id,e.id=t+1001,e})),q(d),L([].concat(Object(B.a)(o),Object(B.a)(u),Object(B.a)(d)));case 50:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae,ne={nodes:P,links:_.map((function(e){return"".concat(e.source,":").concat(e.target)})).filter((function(e,t,a){return a.indexOf(e)===t})).map((function(e){var t=e.split(":");return{source:parseInt(t[0]),target:parseInt(t[1])}}))},re=J(),ce=(re.bullet,P.filter((function(e){return e.id===parseInt(g)}))[0]);if(null!=ce)if(ce.type=(ae=ce.id)<0?"Patron":ae>0?ae>1e3?"Poem":"Poet":void 0,"Poem"===ce.type){var oe=ce.categories.map((function(e){return e.id}));ce.details=oe.map((function(e){return function(e){var t=Z.filter((function(t){return t.id===e}));if(t.length>0)return t[0].name}(e)})).join(", "),ce.extraDetails=ce.poemText}else ce.details=function(e){var t=Q.filter((function(t){return t.id===e}));if(t.length>0)return t[0].name}(ce.location_id),ce.extraDetails="";else ce={name:"",details:"",type:"",extraDetails:""};return r.a.createElement("div",{className:"OutputContainer",ref:v},r.a.createElement("div",null,P.length>0&&r.a.createElement(H.Graph,{id:"graph-id",data:ne,config:j,onClickNode:function(e){E(e)},onDoubleClickNode:function(e){E(null)}})),r.a.createElement("div",{className:Object(f.a)("graphCards",{show:null!=ce.id})},r.a.createElement(W.a,{className:re.root},r.a.createElement(z.a,null,r.a.createElement(R.a,{className:re.title,color:"textSecondary",gutterBottom:!0},ce.type),r.a.createElement(R.a,{variant:"h5",component:"h2"},ce.name),r.a.createElement(R.a,{className:re.pos,color:"textSecondary"},ce.details),r.a.createElement(R.a,{variant:"body2",component:"p"},ce.extraDetails)),r.a.createElement(I.a,null,r.a.createElement(D.a,{size:"small",onClick:function(){if(null!=ce){var e="/admin";e+="/"+ce.type.toLowerCase(),e+="/"+ce.uid,window.open(e,"_blank")}}},"Learn More")))),r.a.createElement("div",{className:"graphLegend"},r.a.createElement(W.a,{className:re.root},r.a.createElement(z.a,null,r.a.createElement(R.a,{className:Object(f.a)("legendCircleWrapper",{active:"Poet"===ce.type}),variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("div",{className:"legendCircle poet"}),"Poet"),r.a.createElement(R.a,{className:Object(f.a)("legendCircleWrapper",{active:"Patron"===ce.type}),variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("div",{className:"legendCircle patron"}),"Patron"),r.a.createElement(R.a,{className:Object(f.a)("legendCircleWrapper",{active:"Poem"===ce.type}),variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("div",{className:"legendCircle poem"}),"Poem")))))}var A=a(10);a(391);function _(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],o=a[1];function i(e,t){o("boolean"!==typeof t?!c:t)}return r.a.createElement("div",{className:"LayoutContainer"},r.a.createElement(m,{toggleMenuBar:i}),r.a.createElement("div",{className:"flex-out-container"},r.a.createElement(y,{toggleMenu:c,toggleMenuBar:i}),r.a.createElement("div",{className:"ContentContainer"},r.a.createElement(A.d,{exact:!0,path:"/",component:function(e){return r.a.createElement(w,Object.assign({},e,{toggleMenu:i,expanded:c}))}}),r.a.createElement(A.d,{exact:!0,path:"/PoetPatron",component:T}))))}var G=function(){return r.a.createElement(_,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(392);var U=a(67);a(393);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U.BrowserRouter,null,r.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[159,1,2]]]);
//# sourceMappingURL=main.96578605.chunk.js.map