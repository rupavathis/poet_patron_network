(this["webpackJsonpbardic-poetry-ui"]=this["webpackJsonpbardic-poetry-ui"]||[]).push([[0],{159:function(e,t,n){e.exports=n(396)},164:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},165:function(e,t,n){},166:function(e,t,n){},171:function(e,t,n){},174:function(e,t,n){},381:function(e,t,n){},382:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){},393:function(e,t,n){},396:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(34),o=n.n(c),l=(n(164),n(165),n(13)),i=(n(166),n(94)),s=n.n(i),u=n(420);function m(e){var t=e.toggleMenuBar;return r.a.createElement("div",{className:"headerBar"},r.a.createElement("div",null,r.a.createElement(u.a,{className:"menuIconHeader",color:"secondary","aria-label":"open drawer",edge:"start",onClick:t},r.a.createElement(s.a,null))),r.a.createElement("div",{className:"headerBreadCrumbs"},document.URL.includes("/PoetPatron")?"Poet Patron Network":"Home"))}var d=n(47),f=n(76),p=(n(171),n(5)),b=n(95),g=n(429),h=n(422),j=n(423),v=n(147),E=n.n(v),O=n(146),x=n.n(O);function y(e){var t=e.toggleMenu,n=e.toggleMenuBar,c=Object(a.useState)(""),o=Object(l.a)(c,2),i=o[0],s=o[1],u=function(e){n(e,!1),s(e.currentTarget.id)};return r.a.createElement("div",{className:Object(p.a)("flex-item-menu",Object(d.a)({},"expanded",t))},r.a.createElement(f.MenuList,{className:"menu-container"},r.a.createElement(b.LinkContainer,{to:"/"},r.a.createElement("li",{id:"1",onClick:u},r.a.createElement(f.MenuLink,{isActive:"1"===i,className:Object(p.a)("menu",Object(d.a)({},"expanded",t))},r.a.createElement(g.a,{button:!0,key:"Home"},r.a.createElement(h.a,null,r.a.createElement(x.a,null)),r.a.createElement(j.a,{primary:"Home"}))))),r.a.createElement(b.LinkContainer,{to:"/PoetPatron"},r.a.createElement("li",{id:"2",onClick:u},r.a.createElement(f.MenuLink,{isActive:"2"===i,className:Object(p.a)("menu",Object(d.a)({},"expanded",t))},r.a.createElement(g.a,{button:!0,key:"Poems"},r.a.createElement(h.a,null,r.a.createElement(E.a,null)),r.a.createElement(j.a,{primary:"Poet-Patron Network"})))))))}n(174);var k=n(148),N=n.n(k),w={width:"100%",height:"100%"},S={particles:{number:{value:100},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}};function C(e){return r.a.createElement("div",{className:"Home"},r.a.createElement(N.a,{params:S,style:w}),r.a.createElement("div",{className:"HomeHeadings"},r.a.createElement("div",{className:"HomeTitle"},"MACMORRIS"),r.a.createElement("div",{className:"HomeSubTitle"}," Connection Explorer")))}n(381);var P=n(19),M=n.n(P),B=n(74);n(382);var H=n(28),L=n(149),I=(n(390),n(425)),z=n(430),D=n(427),R=n(426),J=n(428),T=n(77),W=Object(I.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function A(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=(t[0],t[1],Object(a.useState)(500)),c=Object(l.a)(n,2),o=c[0],i=c[1],s=Object(a.useState)(800),u=Object(l.a)(s,2),m=u[0],f=u[1],b=Object(a.useState)(null),g=Object(l.a)(b,2),h=g[0],j=g[1],v=Object(a.useRef)(null);Object(a.useEffect)((function(){!function(){ne.apply(this,arguments)}(),f(v.current.offsetWidth+250),i(v.current.offsetHeight)}),[]);var E={d3:{gravity:-150},height:o,width:m,nodeHighlightBehavior:!0,node:{color:"#f14668",highlightStrokeColor:"black",labelProperty:"name"},link:{color:"#00000020",highlightColor:"black"}},O=Object(a.useState)([]),x=Object(l.a)(O,2),y=(x[0],x[1]),k=Object(a.useState)([]),N=Object(l.a)(k,2),w=(N[0],N[1]),S=Object(a.useState)([]),C=Object(l.a)(S,2),P=C[0],I=C[1],A=Object(a.useState)([]),_=Object(l.a)(A,2),G=_[0],U=_[1],$=Object(a.useState)([]),q=Object(l.a)($,2),F=(q[0],q[1]),K=Object(a.useState)([]),Q=Object(l.a)(K,2),V=Q[0],X=Q[1],Y=Object(a.useState)([]),Z=Object(l.a)(Y,2),ee=Z[0],te=Z[1];function ne(){return(ne=Object(B.a)(M.a.mark((function e(){var t,n,a,r,c,o,l,i,s,u,m,d;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/locations");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,X(n),console.log({location:V}),e.next=10,fetch("/categories");case 10:return a=e.sent,e.next=13,a.json();case 13:return r=e.sent,te(r),console.log({category:ee}),e.next=18,fetch("/poets");case 18:return c=e.sent,e.next=21,c.json();case 21:return o=e.sent,o.map((function(e){return e.poems.length})),o=o.map((function(e,t){return e.uid=e.id,e.color="#5cace2",e.size=200*e.poems.length,e})),console.log(o),y(o),l=o.map((function(e){return e.patrons.map((function(t){return{source:e.id,target:-t.id}}))})).reduce((function(e,t){return[].concat(Object(H.a)(e),Object(H.a)(t))})),i=o.map((function(e){return e.poems.map((function(t){return{source:e.id,target:t.id+1e3}}))})).reduce((function(e,t){return[].concat(Object(H.a)(e),Object(H.a)(t))})),console.log(l),console.log(i),U([].concat(Object(H.a)(l),Object(H.a)(i))),e.next=33,fetch("/patrons");case 33:return s=e.sent,e.next=36,s.json();case 36:return u=(u=e.sent).map((function(e,t){return e.uid=e.id,e.id=-e.id,e.size=200*e.poets.length,e})),w(u),console.log({patronsJson:u}),e.next=42,fetch("/poems");case 42:return m=e.sent,e.next=45,m.json();case 45:d=e.sent,console.log({poemsJson:d}),d=d.map((function(e,t){return e.color="#00000020",e.renderLabel=!1,e.uid=e.id,e.id=t+1001,e})),F(d),I([].concat(Object(H.a)(o),Object(H.a)(u),Object(H.a)(d)));case 50:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae,re={nodes:P,links:G.map((function(e){return"".concat(e.source,":").concat(e.target)})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){var t=e.split(":");return{source:parseInt(t[0]),target:parseInt(t[1])}}))},ce=W(),oe=(ce.bullet,P.filter((function(e){return e.id===parseInt(h)}))[0]);if(null!=oe)if(oe.type=(ae=oe.id)<0?"Patron":ae>0?ae>1e3?"Poem":"Poet":void 0,"Poem"===oe.type){var le=oe.categories.map((function(e){return e.id}));oe.details=le.map((function(e){return function(e){var t=ee.filter((function(t){return t.id===e}));if(t.length>0)return t[0].name}(e)})).join(", "),oe.extraDetails=oe.poemText}else oe.details=function(e){var t=V.filter((function(t){return t.id===e}));if(t.length>0)return t[0].name}(oe.location_id),oe.extraDetails="";else oe={name:"",details:"",type:"",extraDetails:""};return r.a.createElement("div",{className:"OutputContainer",ref:v},r.a.createElement("div",null,P.length>0&&r.a.createElement(L.Graph,{id:"graph-id",data:re,config:E,onClickNode:function(e){j(e)},onDoubleClickNode:function(e){j(null)}})),r.a.createElement("div",{className:Object(p.a)("graphCards",Object(d.a)({},"show",null!=oe.id))},r.a.createElement(z.a,{className:ce.root},r.a.createElement(R.a,null,r.a.createElement(T.a,{className:ce.title,color:"textSecondary",gutterBottom:!0},oe.type),r.a.createElement(T.a,{variant:"h5",component:"h2"},oe.name),r.a.createElement(T.a,{className:ce.pos,color:"textSecondary"},oe.details),r.a.createElement(T.a,{variant:"body2",component:"p"},oe.extraDetails)),r.a.createElement(D.a,null,r.a.createElement(J.a,{size:"small",onClick:function(){if(null!=oe){var e="/admin";e+="/"+oe.type.toLowerCase(),e+="/"+oe.uid,window.open(e,"_blank")}}},"Learn More")))))}var _=n(10);n(391);function G(e){var t=Object(a.useState)(!0),n=Object(l.a)(t,2),c=n[0],o=n[1];function i(e,t){o("boolean"!==typeof t?!c:t)}return r.a.createElement("div",{className:"LayoutContainer"},r.a.createElement(m,{toggleMenuBar:i}),r.a.createElement("div",{className:"flex-out-container"},r.a.createElement(y,{toggleMenu:c,toggleMenuBar:i}),r.a.createElement("div",{className:"ContentContainer"},r.a.createElement(_.d,{exact:!0,path:"/",component:C}),r.a.createElement(_.d,{exact:!0,path:"/PoetPatron",component:A}))))}var U=function(){return r.a.createElement(G,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(392);var $=n(67);n(393);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($.BrowserRouter,null,r.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[159,1,2]]]);
//# sourceMappingURL=main.3f8aa94d.chunk.js.map