{"version":3,"sources":["logo.svg","components/Header/Header.js","components/SideBar/NavBar.js","components/Home.js","components/ContentBar/OutputContainer.js","components/Layout.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","HeaderBar","toggleMenuBar","className","IconButton","color","aria-label","edge","onClick","document","URL","includes","NavBar","toggleMenu","currentPath","window","location","pathname","useState","active","setActive","onChangeMenu","e","currentTarget","id","clsx","to","isActive","ListItem","button","key","ListItemIcon","ListItemText","primary","particlesParams","Topic","expanded","params","style","width","height","position","isOutlined","isColor","useStyles","makeStyles","root","minWidth","bullet","display","margin","transform","title","fontSize","pos","marginBottom","OutputContainer","graphHeight","setgraphHeight","graphWidth","setgraphWidth","selectedNodeId","setSelectedNodeId","graph","useRef","useEffect","networkClick","current","offsetWidth","offsetHeight","myConfig","d3","gravity","nodeHighlightBehavior","node","highlightStrokeColor","labelProperty","link","highlightColor","setPoets","setPatrons","nodes","setNodes","links","setLinks","setPoems","setLocation","category","setCategory","a","fetch","locResponse","json","locJson","console","log","categoryResponse","catJson","poetsResponse","poetsJson","map","poems","length","i","uid","size","poetpatrons","poet","patrons","source","target","reduce","acc","poetPoems","patronResponse","patronsJson","poets","poemsResponse","poemsJson","renderLabel","data","filter","arr","indexOf","eTokens","split","parseInt","classes","selectedNode","type","categoryIds","categories","details","filteredCategories","name","getCategory","join","extraDetails","poemText","filteredLocations","getLocation","location_id","ref","config","onClickNode","nodeId","onDoubleClickNode","Card","CardContent","Typography","gutterBottom","variant","component","CardActions","Button","url","toLowerCase","open","Layout","props","setToggleMenuBar","bool","exact","path","App","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.96578605.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from 'react';\r\nimport './Header.css'; \r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nexport default function HeaderBar({ toggleMenuBar }) {\r\n\r\n    let readURL = \"\";\r\n    const pageTitle = () => {\r\n        readURL = document.URL;\r\n        if (readURL.includes('/PoetPatron'))\r\n            return \"Poet Patron Network\";\r\n        \r\n        else\r\n            return \"Home\";\r\n    }\r\n\r\n    return (\r\n        <div className=\"headerBar\">\r\n            <div>\r\n                    <IconButton className=\"menuIconHeader\"\r\n                        color=\"secondary\"\r\n                        aria-label=\"open drawer\"\r\n                        edge=\"start\"\r\n                        onClick={toggleMenuBar}\r\n                    >\r\n                        <MenuIcon />\r\n                    </IconButton>\r\n            </div>\r\n            <div className=\"headerBreadCrumbs\">\r\n                    {pageTitle()}\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\n","import React, { useState } from 'react';\r\nimport { MenuList, MenuLink } from 'bloomer';\r\nimport './NavBar.css';\r\nimport clsx from 'clsx';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport TimelineIcon from '@material-ui/icons/Timeline';\r\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nexport default function NavBar({ toggleMenu, toggleMenuBar}) {\r\n\r\n    const currentPath = window.location.pathname;\r\n    const [active, setActive] = useState(currentPath === \"/PoetPatron\" ? \"2\" : \"1\" );\r\n\r\n    const onChangeMenu = (e) => {\r\n        toggleMenuBar(e, false);\r\n        setActive(e.currentTarget.id );\r\n    }\r\n\r\n    return (\r\n     <div className={clsx(\"flex-item-menu\", { [\"expanded\"]: toggleMenu })} >\r\n        <MenuList className=\"menu-container\">\r\n\r\n            <LinkContainer to={\"/\" }>\r\n                <li id='1' onClick={onChangeMenu}>\r\n                    <MenuLink isActive={active === '1'} className={clsx(\"menu\", { [\"expanded\"]: toggleMenu })}>\r\n                        <ListItem button key=\"Home\">\r\n                            <ListItemIcon>{<HomeIcon />}</ListItemIcon>\r\n                            <ListItemText primary=\"Home\" />\r\n                        </ListItem>\r\n                    </MenuLink>     \r\n                </li>        \r\n            </LinkContainer>\r\n\r\n            <LinkContainer to={\"/PoetPatron\" }>\r\n                <li id='2' onClick={onChangeMenu}>\r\n                    <MenuLink isActive={active === '2'} className={clsx(\"menu\", { [\"expanded\"]: toggleMenu })}>\r\n                    <ListItem button key=\"Poems\">\r\n                            <ListItemIcon>{<TimelineIcon />}</ListItemIcon>\r\n                            <ListItemText primary=\"Poet-Patron Network\" />\r\n                        </ListItem>\r\n                    </MenuLink>   \r\n                </li>   \r\n            </LinkContainer>       \r\n        </MenuList>\r\n        </div>\r\n    );\r\n};\r\n","import React, {useRef, useEffect, useState} from 'react';\r\nimport Particles from 'react-particles-js';\r\nimport {Button} from 'bloomer';\r\nimport clsx from 'clsx';\r\nimport './Home.css'; \r\n\r\n\r\n\r\nconst particlesParams = {\r\n  \"particles\": {\r\n      \"number\": {\r\n          \"value\": 100\r\n      },\r\n      \"size\": {\r\n          \"value\": 3\r\n      }\r\n  },\r\n  \"interactivity\": {\r\n      \"events\": {\r\n          \"onhover\": {\r\n              \"enable\": true,\r\n              \"mode\": \"repulse\"\r\n          }\r\n      }\r\n  }\r\n};\r\n\r\nexport default function Topic({toggleMenu, expanded}) {\r\n\r\n  return (\r\n      <div className=\"Home\">  \r\n        <Particles params={particlesParams} style={{width: '100%', height: '100%', position: 'absolute'}}  />\r\n        <div className={clsx(\"HomeHeadings\", \"skew\", {\"expanded\": expanded})}>\r\n          <div className=\"unskew\">\r\n            <div className=\"HomeTitle\">MACMORRIS</div>\r\n            <div className=\"HomeSubTitle\"> Connection Explorer</div>\r\n            <Button isOutlined isColor='white' className=\"ExplorerButton\" onClick={toggleMenu}>Explore</Button>\r\n          </div>\r\n        </div>\r\n      </div> \r\n           \r\n    );\r\n}\r\n\r\n","import React, {useState, useEffect, useRef} from 'react';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { Graph } from \"react-d3-graph\";\r\nimport './OutputContainer.css';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport clsx from 'clsx';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n});\r\n\r\nexport default function OutputContainer() {\r\n\r\n    const[graphContainer, setgraphContainer] = useState(0);\r\n    const[graphHeight, setgraphHeight] = useState(500);\r\n    const[graphWidth, setgraphWidth] = useState(800);\r\n    const[selectedNodeId, setSelectedNodeId] = useState(null);\r\n\r\n    const graph = useRef(null);\r\n    \r\n    useEffect(() => {\r\n        networkClick();\r\n        setgraphWidth(graph.current.offsetWidth+250);\r\n        setgraphHeight(graph.current.offsetHeight-40);\r\n    }, []);\r\n\r\n    const myConfig = {\r\n        d3: {\r\n            gravity: -150,\r\n        },\r\n        height: graphHeight,\r\n        width: graphWidth,\r\n        nodeHighlightBehavior: true,\r\n        node: {\r\n            //strokeColor: \"000000\",\r\n            //strokeWidth: 5,\r\n            // color: \"#6bc36b\",\r\n            color: '#f14668',\r\n            highlightStrokeColor: \"black\",\r\n            labelProperty: \"name\",\r\n        },\r\n        link: {\r\n            color: \"#00000020\",\r\n            highlightColor: \"black\",\r\n        },\r\n    };\r\n\r\n   \r\n    const onClickNode = function(nodeId) {\r\n        setSelectedNodeId(nodeId);\r\n    };\r\n       \r\n    const onDoubleClickNode = function(nodeId) {\r\n        setSelectedNodeId(null);        \r\n    }\r\n\r\n    const [poets, setPoets] = useState([]);\r\n    const [patrons, setPatrons] = useState([]);\r\n    const [nodes, setNodes] = useState([]);\r\n    const [links, setLinks] = useState([]);\r\n    const [poems, setPoems] = useState([]);\r\n    const [location, setLocation] = useState([]);\r\n    const [category, setCategory] = useState([]);\r\n\r\n    async function networkClick() {\r\n        \r\n        let locResponse = await fetch (\"/locations\");\r\n        let locJson = await locResponse.json();\r\n        setLocation(locJson);\r\n        console.log({location});\r\n\r\n        let categoryResponse = await fetch(\"/categories\");\r\n        let catJson = await categoryResponse.json();\r\n        setCategory(catJson);\r\n        console.log({category});\r\n\r\n        let poetsResponse = await fetch('/poets');\r\n        let poetsJson = await poetsResponse.json();\r\n        let poetSize = poetsJson.map(e => e.poems.length);\r\n        poetsJson = poetsJson.map((e, i) => { e.uid = e.id; e.color = \"#5cace2\"; e.size = e.poems.length * 200; return e;})\r\n        console.log(poetsJson);\r\n        setPoets(poetsJson);\r\n       \r\n        let poetpatrons = poetsJson.map(poet => poet.patrons.map(e => ({source: poet.id, target : -e.id})) ).reduce((acc, e) => [...acc, ...e]);\r\n        let poetPoems = poetsJson.map(poet => poet.poems.map(e => ({source: poet.id, target : e.id + 1000 })) ).reduce((acc, e) => [...acc, ...e]);\r\n\r\n        console.log(poetpatrons);\r\n        console.log(poetPoems);\r\n        setLinks([...poetpatrons, ...poetPoems]);\r\n\r\n        let patronResponse = await fetch('/patrons');\r\n        let patronsJson= await patronResponse.json();       \r\n        \r\n        patronsJson = patronsJson.map((e,i)=> {e.uid = e.id; e.id = -e.id; e.size = e.poets.length * 200; return e;});\r\n        setPatrons(patronsJson);\r\n        \r\n        console.log({patronsJson});\r\n        let poemsResponse = await fetch('/poems');\r\n        let poemsJson= await poemsResponse.json();       \r\n        console.log({poemsJson});\r\n\r\n        poemsJson = poemsJson.map((e,i)=> {e.color=\"#00000020\"; e.renderLabel = false; e.uid = e.id; e.id = i + 1001; return e;});\r\n        setPoems(poemsJson);\r\n        setNodes([...poetsJson, ...patronsJson, ...poemsJson]);\r\n    }\r\n\r\n\r\n    // graph payload (with minimalist structure)\r\n    const cleanedLinks = links.map(e => `${e.source}:${e.target}`)\r\n                              .filter((e, i, arr) => arr.indexOf(e) === i)\r\n                              .map(e => { let eTokens = e.split(\":\"); return { source: parseInt(eTokens[0]), target: parseInt(eTokens[1])}; });\r\n    const data = {\r\n        nodes: nodes,\r\n        links: cleanedLinks,\r\n    };\r\n\r\n    // console.log(\"executed\", links.map(e => `${e.source}:${e.target}`), cleanedLinks);\r\n\r\n    const classes = useStyles();\r\n    const bull = <span className={classes.bullet}>â€¢</span>;\r\n\r\n    const getLocation = (id) => {\r\n        const filteredLocations = location.filter(e => e.id === id);\r\n        if (filteredLocations.length > 0) return filteredLocations[0].name;\r\n    }\r\n    const getCategory = (id) => {\r\n        const filteredCategories = category.filter(e => e.id === id);\r\n        if (filteredCategories.length > 0) return filteredCategories[0].name;\r\n    }\r\n    const getNodeType = (id) => {\r\n        if(id < 0) return \"Patron\";\r\n        if(id > 0) return (id > 1000? \"Poem\" : \"Poet\");\r\n    }\r\n\r\n    let selectedNode = nodes.filter(e => e.id === parseInt(selectedNodeId))[0];\r\n    if(selectedNode != null) {\r\n        selectedNode.type = getNodeType(selectedNode.id);\r\n        if(selectedNode.type === \"Poem\") {\r\n            let categoryIds = selectedNode.categories.map(e => e.id);\r\n            selectedNode.details = categoryIds.map(e => getCategory(e)).join(', ');\r\n            selectedNode.extraDetails = selectedNode.poemText;\r\n        }\r\n        else {\r\n            selectedNode.details = getLocation(selectedNode.location_id);\r\n            selectedNode.extraDetails = \"\";\r\n        }\r\n        \r\n    } else {\r\n        selectedNode = {name: \"\", details: \"\", type: \"\", extraDetails: \"\"};\r\n    }\r\n\r\n    const learnMoreClick = () => {\r\n        if(selectedNode != null) {\r\n            let url = '/admin';\r\n            url += \"/\" + selectedNode.type.toLowerCase();\r\n            url += \"/\" + selectedNode.uid;\r\n            window.open(url, '_blank');\r\n        }\r\n    }\r\n\r\n    return (\r\n        \r\n        <div className= \"OutputContainer\" ref={graph}>\r\n            <div>    \r\n                {\r\n                    nodes.length > 0 && \r\n                    <Graph \r\n                        id=\"graph-id\" // id is mandatory, if no id is defined rd3g will throw an error\r\n                        data={data}\r\n                        config={myConfig}\r\n                        onClickNode={onClickNode}\r\n                        onDoubleClickNode={onDoubleClickNode}\r\n                      />\r\n                }\r\n            </div>\r\n            <div className={clsx(\"graphCards\", { \"show\": selectedNode.id != null })} >\r\n                <Card className={classes.root}>\r\n                    <CardContent>\r\n                        <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\r\n                        {selectedNode.type}\r\n                        </Typography>\r\n                        <Typography variant=\"h5\" component=\"h2\">\r\n                        {selectedNode.name}\r\n                        </Typography>\r\n                        <Typography className={classes.pos} color=\"textSecondary\">\r\n                        {selectedNode.details}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" component=\"p\">\r\n                        {selectedNode.extraDetails}\r\n                        </Typography>\r\n                    </CardContent>\r\n                    <CardActions>\r\n                        <Button size=\"small\" onClick={learnMoreClick}>Learn More</Button>\r\n                    </CardActions>\r\n                </Card>\r\n            </div>\r\n            <div className=\"graphLegend\" >\r\n                <Card className={classes.root}>\r\n                    <CardContent>\r\n                        <Typography className={clsx(\"legendCircleWrapper\", {\"active\": selectedNode.type === \"Poet\"})} variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                           <div className=\"legendCircle poet\"></div>\r\n                            Poet\r\n                        </Typography>\r\n                        <Typography className={clsx(\"legendCircleWrapper\", {\"active\": selectedNode.type === \"Patron\"})} variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            <div className=\"legendCircle patron\"></div>\r\n                            Patron\r\n                        </Typography>\r\n                        <Typography className={clsx(\"legendCircleWrapper\", {\"active\": selectedNode.type === \"Poem\"})} variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            <div className=\"legendCircle poem\"></div>\r\n                            Poem\r\n                        </Typography>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React, { useState, useCookies } from 'react';\r\nimport Header from './Header/Header.js';\r\nimport NavBar from './SideBar/NavBar.js';\r\nimport Home from './Home.js';\r\nimport ContentBar from './ContentBar/ContentBar.js';\r\nimport { Route } from 'react-router';\r\nimport OutputContainer from './ContentBar/OutputContainer';\r\nimport './Layout.css'; \r\n\r\n\r\nexport default function Layout(props) {\r\n    const [toggleMenu, setToggleMenuBar] = useState(false);\r\n    function toggleMenuBar(e, bool) {\r\n        if (typeof(bool) === \"boolean\") {\r\n            setToggleMenuBar(bool);\r\n            return;\r\n        }\r\n        setToggleMenuBar(!toggleMenu);    \r\n    }\r\n\r\n    return (\r\n        <div className=\"LayoutContainer\">\r\n            <Header toggleMenuBar={toggleMenuBar} />\r\n                <div className=\"flex-out-container\">\r\n                     <NavBar toggleMenu={toggleMenu} toggleMenuBar={toggleMenuBar} />              \r\n                <div className=\"ContentContainer\">\r\n                    <Route exact path='/' component={(props) => <Home {...props} toggleMenu={toggleMenuBar} expanded={toggleMenu} />} />\r\n                    <Route exact path='/PoetPatron' component={OutputContainer} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Layout from './components/Layout';\n\nfunction App() {\n  return (\n    <Layout />\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bulma/css/bulma.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}