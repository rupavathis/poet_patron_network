(this["webpackJsonpbardic-poetry-ui"]=this["webpackJsonpbardic-poetry-ui"]||[]).push([[0],{159:function(e,t,n){e.exports=n(397)},164:function(e,t,n){},165:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},166:function(e,t,n){},167:function(e,t,n){},172:function(e,t,n){},175:function(e,t,n){},382:function(e,t,n){e.exports=n.p+"static/media/bg.1dd034cc.jpg"},383:function(e,t,n){},384:function(e,t,n){},392:function(e,t,n){},393:function(e,t,n){},397:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(34),o=n.n(c),l=(n(164),n(165),n(166),n(13)),i=(n(167),n(94)),u=n.n(i),s=n(421);function m(e){var t=e.toggleMenuBar;return r.a.createElement("div",{className:"headerBar"},r.a.createElement("div",null,r.a.createElement(s.a,{className:"menuIconHeader",color:"secondary","aria-label":"open drawer",edge:"start",onClick:t},r.a.createElement(u.a,null))),r.a.createElement("div",{className:"headerBreadCrumbs"},document.URL.includes("/PoetPatron")?"Poet Patron Network":"Home"))}var d=n(47),f=n(76),p=(n(172),n(5)),b=n(95),g=n(430),h=n(423),j=n(424),v=n(147),E=n.n(v),O=n(146),x=n.n(O);function k(e){var t=e.toggleMenu,n=e.toggleMenuBar,c=Object(a.useState)(""),o=Object(l.a)(c,2),i=o[0],u=o[1],s=function(e){n(e,!1),u(e.currentTarget.id)};return r.a.createElement("div",{className:Object(p.a)("flex-item-menu",Object(d.a)({},"expanded",t))},r.a.createElement(f.MenuList,{className:"menu-container"},r.a.createElement(b.LinkContainer,{to:"/"},r.a.createElement("li",{id:"1",onClick:s},r.a.createElement(f.MenuLink,{isActive:"1"===i,className:Object(p.a)("menu",Object(d.a)({},"expanded",t))},r.a.createElement(g.a,{button:!0,key:"Home"},r.a.createElement(h.a,null,r.a.createElement(x.a,null)),r.a.createElement(j.a,{primary:"Home"}))))),r.a.createElement(b.LinkContainer,{to:"/PoetPatron"},r.a.createElement("li",{id:"2",onClick:s},r.a.createElement(f.MenuLink,{isActive:"2"===i,className:Object(p.a)("menu",Object(d.a)({},"expanded",t))},r.a.createElement(g.a,{button:!0,key:"Poems"},r.a.createElement(h.a,null,r.a.createElement(E.a,null)),r.a.createElement(j.a,{primary:"Poet-Patron Network"})))))))}n(175);var y=n(148),N=n.n(y),S=n(382),w={width:"100%",height:"100%",backgroundImage:"url(".concat(S,")"),backgroundSize:"cover"},C={particles:{number:{value:50},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}};function P(e){return r.a.createElement("div",null,r.a.createElement(N.a,{params:C}),r.a.createElement("div",{className:"cComponent",style:w},r.a.createElement("div",{className:"HomeTitle"},"MACMORRIS"),r.a.createElement("div",{className:"HomeSubTitle"}," Connection Explorer")))}n(383);var M=n(19),B=n.n(M),L=n(74);n(384);var H=n(28),I=n(149),z=(n(392),n(426)),D=n(431),R=n(428),J=n(427),T=n(429),W=n(77),A=Object(z.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function _(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=(t[0],t[1],Object(a.useState)(500)),c=Object(l.a)(n,2),o=c[0],i=c[1],u=Object(a.useState)(800),s=Object(l.a)(u,2),m=s[0],f=s[1],b=Object(a.useState)(null),g=Object(l.a)(b,2),h=g[0],j=g[1],v=Object(a.useRef)(null);Object(a.useEffect)((function(){!function(){ne.apply(this,arguments)}(),f(v.current.offsetWidth+250),i(v.current.offsetHeight)}),[]);var E={d3:{gravity:-150},height:o,width:m,nodeHighlightBehavior:!0,node:{color:"#f14668",highlightStrokeColor:"black",labelProperty:"name"},link:{color:"#00000020",highlightColor:"black"}},O=Object(a.useState)([]),x=Object(l.a)(O,2),k=(x[0],x[1]),y=Object(a.useState)([]),N=Object(l.a)(y,2),S=(N[0],N[1]),w=Object(a.useState)([]),C=Object(l.a)(w,2),P=C[0],M=C[1],z=Object(a.useState)([]),_=Object(l.a)(z,2),G=_[0],U=_[1],$=Object(a.useState)([]),q=Object(l.a)($,2),F=(q[0],q[1]),K=Object(a.useState)([]),Q=Object(l.a)(K,2),V=Q[0],X=Q[1],Y=Object(a.useState)([]),Z=Object(l.a)(Y,2),ee=Z[0],te=Z[1];function ne(){return(ne=Object(L.a)(B.a.mark((function e(){var t,n,a,r,c,o,l,i,u,s,m,d;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/locations");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,X(n),console.log({location:V}),e.next=10,fetch("/categories");case 10:return a=e.sent,e.next=13,a.json();case 13:return r=e.sent,te(r),console.log({category:ee}),e.next=18,fetch("/poets");case 18:return c=e.sent,e.next=21,c.json();case 21:return o=e.sent,o.map((function(e){return e.poems.length})),o=o.map((function(e,t){return e.uid=e.id,e.color="#5cace2",e.size=200*e.poems.length,e})),console.log(o),k(o),l=o.map((function(e){return e.patrons.map((function(t){return{source:e.id,target:-t.id}}))})).reduce((function(e,t){return[].concat(Object(H.a)(e),Object(H.a)(t))})),i=o.map((function(e){return e.poems.map((function(t){return{source:e.id,target:t.id+1e3}}))})).reduce((function(e,t){return[].concat(Object(H.a)(e),Object(H.a)(t))})),console.log(l),console.log(i),U([].concat(Object(H.a)(l),Object(H.a)(i))),e.next=33,fetch("/patrons");case 33:return u=e.sent,e.next=36,u.json();case 36:return s=(s=e.sent).map((function(e,t){return e.uid=e.id,e.id=-e.id,e.size=200*e.poets.length,e})),S(s),console.log({patronsJson:s}),e.next=42,fetch("/poems");case 42:return m=e.sent,e.next=45,m.json();case 45:d=e.sent,console.log({poemsJson:d}),d=d.map((function(e,t){return e.color="#00000020",e.renderLabel=!1,e.uid=e.id,e.id=t+1001,e})),F(d),M([].concat(Object(H.a)(o),Object(H.a)(s),Object(H.a)(d)));case 50:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae,re={nodes:P,links:G.map((function(e){return"".concat(e.source,":").concat(e.target)})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){var t=e.split(":");return{source:parseInt(t[0]),target:parseInt(t[1])}}))},ce=A(),oe=(ce.bullet,P.filter((function(e){return e.id===parseInt(h)}))[0]);if(null!=oe)if(oe.type=(ae=oe.id)<0?"Patron":ae>0?ae>1e3?"Poem":"Poet":void 0,"Poem"===oe.type){var le=oe.categories.map((function(e){return e.id}));oe.details=le.map((function(e){return function(e){var t=ee.filter((function(t){return t.id===e}));if(t.length>0)return t[0].name}(e)})).join(", "),oe.extraDetails=oe.poemText}else oe.details=function(e){var t=V.filter((function(t){return t.id===e}));if(t.length>0)return t[0].name}(oe.location_id),oe.extraDetails="";else oe={name:"",details:"",type:"",extraDetails:""};return r.a.createElement("div",{className:"OutputContainer",ref:v},r.a.createElement("div",null,P.length>0&&r.a.createElement(I.Graph,{id:"graph-id",data:re,config:E,onClickNode:function(e){j(e)},onDoubleClickNode:function(e){j(null)}})),r.a.createElement("div",{className:Object(p.a)("graphCards",Object(d.a)({},"show",null!=oe.id))},r.a.createElement(D.a,{className:ce.root},r.a.createElement(J.a,null,r.a.createElement(W.a,{className:ce.title,color:"textSecondary",gutterBottom:!0},oe.type),r.a.createElement(W.a,{variant:"h5",component:"h2"},oe.name),r.a.createElement(W.a,{className:ce.pos,color:"textSecondary"},oe.details),r.a.createElement(W.a,{variant:"body2",component:"p"},oe.extraDetails)),r.a.createElement(R.a,null,r.a.createElement(T.a,{size:"small",onClick:function(){if(null!=oe){var e="http://localhost:3000/admin";e+="/"+oe.type.toLowerCase(),e+="/"+oe.uid,window.open(e,"_blank")}}},"Learn More")))))}var G=n(10);n(393);function U(e){var t=Object(a.useState)(!0),n=Object(l.a)(t,2),c=n[0],o=n[1];function i(e,t){o("boolean"!==typeof t?!c:t)}return r.a.createElement("div",{className:"LayoutContainer"},r.a.createElement(m,{toggleMenuBar:i}),r.a.createElement("div",{className:"flex-out-container"},r.a.createElement(k,{toggleMenu:c,toggleMenuBar:i}),r.a.createElement("div",{className:"ContentContainer"},r.a.createElement(G.d,{exact:!0,path:"/",component:P}),r.a.createElement(G.d,{exact:!0,path:"/PoetPatron",component:_}))))}var $=function(){return r.a.createElement(U,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(394);var q=n(67);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q.BrowserRouter,null,r.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[159,1,2]]]);
//# sourceMappingURL=main.5eed8f67.chunk.js.map